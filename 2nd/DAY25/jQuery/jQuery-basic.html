<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta charset="UTF-8">
  <title>jQuery 기초/기본기 다지기</title>
  <style>
    body { margin: 10rem; }
    .active { padding: 0.34em 1em; background: #ff0; border-radius: 5px; }
  </style>

  <!-- jQuery 로컬 파일 사용 -->
  <script src="lib/jquery/jquery.min.js"></script>

  <!-- jQuery CDN 사용 -->
  <!-- <script src="https://code.jquery.com/jquery.min.js"></script> -->
  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> -->

  <!--

    jQuery v3.x.x : normal VS slim 버전의 차이점

    Slim 버전: Ajax, Effects, Deprecated 제외

    ////////////////////////////////////////////////////////////////////////////////////////////////////

    Along with the regular version of jQuery that includes the ajax and effects modules, we’re releasing
    a “slim” version that excludes these modules. All in all, it excludes ajax, effects, and currently
    deprecated code.

    ////////////////////////////////////////////////////////////////////////////////////////////////////

    Looking at the code I found the following differences between jquery.js and jquery.slim.js:

    In the jquery.slim.js, the following function of code are removed:

    - `jquery.fn.load`
    - `jquery.each` // Attach a bunch of functions for handling common AJAX events
    - `jQuery.expr.filters.animated`
    - ajax settings like
      - `jQuery.ajaxSettings.xhr`
      - `jQuery.ajaxPrefilter`
      - `jQuery.ajaxSetup`
      - `jQuery.ajaxPrefilter`
      - `jQuery.ajaxTransport`
      - `jQuery.ajaxSetup`
    - xml parsing like `jQuery.parseXML`
    - animation effects like
      - `jQuery.easing`
      - `jQuery.Animation`
      - `jQuery.speed`
  -->

  <!--
  기본적으로는 CDN 데이터를 사용하되, 네트워크 불안정으로 또는 CDN 서버가 폭파(그럴 일이 있으면 안되겠지만...)되었다면,
  로컬 데이터를 사용하기 위한 조건 처리문
  -->
  <script>
  // 방법 1.
  // if ( !window.jQuery ) { document.write('<script src="lib/jquery/jquery.min.js"><\/script>'); }

  // 방법 2.
  // window.jQuery || document.write('<script src="lib/jquery/jquery.min.js"><\/script>');

  // 방법 3.
  // !window.jQuery && document.write('<script src="lib/jquery/jquery.min.js"><\/script>');
  </script>
</head>
<body>

  <!-- <nav id="gnb"> -->
  <nav class="gnb">
    <ul class="clearfix">
      <li><a href="#link-01" title="hyperlink 01">link 09</a></li>
      <li><a href="#link-02" title="hyperlink 02">link 08</a></li>
      <li><a href="#link-03" title="hyperlink 03">link 07</a></li>
      <li><a href="#link-04" title="hyperlink 04">link 06</a></li>
      <li><a href="#link-05" title="hyperlink 05">link 05</a></li>
    </ul>
  </nav>

  <!-- //////////////////////////////////////////////////////////// -->

  <div id="created-zone">
    <!-- <div class="created-element">Created Element</div> -->
  </div>

<script>
(function(glboal){
  'use strict';
  //////////////////////////
  // DOM Script VS jQuery //
  //////////////////////////


  ///////////////////////////////
  // Case 0. Legacy DOM Script

  // var gnb = document.getElementById('gnb');

  // id 속성을 사용한 위(↑)의 경우 VS
  // class 속성을 사용한 아래(↓)의 경우

  // var all_els = document.body.getElementsByTagName('*');
  // var gnb_class= 'gnb';
  // var check_gnb_class = new RegExp('(^|\\s+)'+gnb_class+'(\\s+|$)');
  // for ( var i=0, l=all_els.length; i<l; i++ ) {
  //   var el = all_els[i];
  //   if ( check_gnb_class.test(gnb_class) ) {
  //     var gnb = el;
  //     break;
  //   }
  // }

  // --------------------------------------------------------------------------------

  // var gnb_links = gnb.getElementsByTagName('a');
  // var assignParentClassActive0 = function() {
  //   var add_class_name = 'active';
  //   var check_class_name = new RegExp('(^|\\s+)'+add_class_name+'(\\s+|$)');
  //   var parent = this.parentNode;
  //   var pre_class = parent.className;
  //   if ( !check_class_name.test(pre_class) ) {
  //     parent.className += ' ' + add_class_name;
  //     parent.className = parent.className.replace(/^\s+/,'').replace(/\s+$/,'');
  //   }
  //   return false;
  // };
  // for ( var i=0, l=gnb_links.length; i<l; i++ ) {
  //   var gnb_link = gnb_links.item(i);
  //   gnb_link.onclick = assignParentClassActive0;
  // }


  ////////////////////////
  // Case 1. Modern DOM Script, IE 9+

  // var gnb = document.querySelector('.gnb');
  // var gnb_links = gnb.querySelectorAll('a');
  // var assignParentClassActive = function(event) {
  //   event.preventDefault();
  //   event.target.parentNode.classList.add('active');
  // };
  // [].forEach.call(gnb_links, function(link) {
  //   link.addEventListener('click', assignParentClassActive);
  // });


  ////////////////////
  // Case 2. jQuery

  // var $gnb = jQuery('.gnb');
  // var $gnb_links = jQuery('a', $gnb);

  // var $gnb_links = jQuery('.gnb a'); // <-- IE 9+ 성능 이슈 없음
  // var assignParentClassActive = function(event) {
  //   event.preventDefault();
  //   jQuery(event.target).parent().addClass('active');
  // };
  // jQuery.each($gnb_links, function(idx, link) {
  //   jQuery(link).on('click', assignParentClassActive);
  // });

  // jQuery 함축해서 사용(많은 분들이 이리 사용 함)
  $('.gnb a').click(function(e) {
    e.preventDefault();
    $(this).parent().addClass('active');
  });
}); // (this)

(function(global, $){
  'use strict';

  ///////////////////////
  // Modern DOM Script //
  ///////////////////////

  // 표준 DOM API를 사용한 경우
  console.time('표준 DOM API를 사용한 경우');
  var c_zone    = document.querySelector('#created-zone');
  var c_div     = document.createElement('div');
  var c_div_txt = document.createTextNode('Created Element 1');
  c_div.appendChild(c_div_txt);
  c_div.setAttribute('class', 'created-element');
  c_zone.appendChild(c_div);
  console.timeEnd('표준 DOM API를 사용한 경우');

  // innerHTML 속성을 사용한 경우
  console.time('innerHTML 속성을 사용한 경우');
  document.querySelector('#created-zone').innerHTML += '<div class="created-element">Created Element 2</div>';
  console.timeEnd('innerHTML 속성을 사용한 경우');

  // --------------------------------------------------------------------------------

  ////////////
  // jQuery //
  ////////////

  console.time('jQuery를 사용한 경우');
  $('<div class="created-element">').text('Created Element 3').appendTo('#created-zone');
  console.timeEnd('jQuery를 사용한 경우');

})(this, this.jQuery);

</script>
</body>
</html>